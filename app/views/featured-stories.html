<div class="container">
  <div class="page">
    <a class="page__back-to-explore"
       title="Go back to the world view"
       ui-sref-opts="{reload: true}"
       ui-sref="explore({juridiction: null, with: null, view: 'companies'})">
      <span class="sr-only">Go back to the world view</span>
    </a>
    <div class="page__body">
      <div class="row">
        <div class="col-sm-6" ng-init="activeFeaturedCase = 0">
          <h2 class="page__title">Featured stories</h2>
          <div class="page__carousel">
            <ul rn-carousel
                rn-carousel-index="activeFeaturedCase"
                rn-carousel-swipe="false"
                rn-carousel-indicator="true">
              <li ng-repeat="case in featuredCases" class="text-center page__carousel__item">
                <a ui-sref="case({id: case.id})">
                  <img ng-src="{{case.image||(case.video|youtubeThumbnail)}}" class="page__carousel__item__image" />
                </a>
              </li>
            </ul>
            <div class="page__carousel__controls">
              <a title="Next story"
                 class="page__carousel__controls__next"
                 ng-hide="activeFeaturedCase == featuredCases.length - 1"
                 ng-click="activeFeaturedCase = activeFeaturedCase + 1">
                <span class="sr-only">Next story</span>
              </a>
              <a title="Previous story"
                 class="page__carousel__controls__previous"
                 ng-hide="activeFeaturedCase == 0"
                 ng-click="activeFeaturedCase = activeFeaturedCase - 1">
                <span class="sr-only">Previous story</span>
              </a>
            </div>
            <div class="page__carousel__preview">
              <h3 class="page__carousel__preview__title">
                <a ui-sref="case({id: featuredCases[activeFeaturedCase].id})">
                  {{featuredCases[activeFeaturedCase].name}}
                </a>
              </h3>
              <p ng-bind-html="featuredCases[activeFeaturedCase].story|stripTags|words:42"></p>
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <h2 class="page__title">Most recent stories</h2>
          <ul class="list-unstyled" ng-repeat="case in recentCases">
            <li>
              <h4 class="page__subtitle"><a ui-sref="case({id: case.id})">{{case.name}}</a></h4>
              <p ng-bind-html="case.story|stripTags|words:42"></p>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
